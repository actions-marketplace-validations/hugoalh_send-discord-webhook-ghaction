name: "Announce New Release - Discord"
on:
  release:
    types:
      - "published"
jobs:
  announce-new-release-discord:
    name: "Announce New Release - Discord"
    runs-on: "ubuntu-latest"
    steps:
      - uses: "hugoalh/send-discord-webhook-ghaction@main"
        with:
          key: "${{secrets.DISCORDWEBHOOK_HUGOALHSTUDIO_STUDIOANNOUNCEMENT_PROJECTNEWRELEASEANNOUNCER}}"
          payload: |
            embeds:
              - description: |
                  **__Send Discord Webhook (GitHub Action)__**

                  ${{github.event.repository.description}}

                  - **GitHub:** ${{github.event.repository.html_url}}
                color: "16,116,231"
                image:
                  url: "https://i.imgur.com/6HnQK7H.png"
                thumbnail:
                  url: "https://i.imgur.com/knmLbFg.png"
          wait: "true"
      - uses: "hugoalh/send-discord-webhook-ghaction@main"
        with:
          key: "${{secrets.DISCORDWEBHOOK_HUGOALHSTUDIO_STUDIOANNOUNCEMENT_PROJECTNEWRELEASEANNOUNCER}}"
          payload: |
            content: |
              Version ${{github.event.release.name}} (${{github.event.release.tag_name}}) is released and available on:

              - **GitHub Repository (& Changelog):** ${{github.event.release.html_url}}
              - **GitHub Marketplace:** https://github.com/marketplace/actions/send-discord-webhook
          wait: "true"
